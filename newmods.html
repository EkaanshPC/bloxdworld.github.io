<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/png" href=https://bloxdworld.pages.dev/assets/pixil-frame-0%20%2814%29.png>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<meta name="google-site-verification" content="uwGK_wrZ8HW1YDPlIVdaqyOErueoMH5-9DF-fXL7uSc" />
  <meta charset="UTF-8">
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
  <title>Mods | Bloxd World</title>
<meta name="description" content="Bloxd World is a community-driven modding site where you can upload, vote, and explore creative mods for Bloxd. Built by NeonJet Studios.">
<meta property="og:title" content="Mods">
<meta property="og:description" content="Explore Bloxd Mods!">
<meta property="og:image" content="https://bloxdworld.pages.dev/THE PLACE FOR.png">
<meta property="og:url" content="https://bloxdworld.pages.dev/mods">
<meta name="twitter:card" content="summary_large_image">
  <link href="https://fonts.googleapis.com/css2?family=Fredoka&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="styles/earth-cube.css">
<link rel="stylesheet" href="styles/header.css">
<link rel="stylesheet" href="styles/devlogandindex.css">
<link rel="stylesheet" href="styles/other.css">
<link rel="stylesheet" href="styles/navbar.css">   <style>
/* üì± Mobile-specific padding */
body.mobile .mods-container,
body.mobile .devlog-container {
  padding: 10px;
}

/* üåê General pagination */
#pagination {
  text-align: center;
  margin-top: 20px;
}

#pagination button {
  margin: 0 4px;
  padding: 6px 12px;
  font-size: 14px;
  border: none;
  border-radius: 4px;
  background: #eee;
  cursor: pointer;
  transition: background 0.2s ease;
}

#pagination button:hover {
  background: #ddd;
}

#pagination .active {
  background: #00c2ff;
  color: white;
  font-weight: bold;
}

/* üåü Base styles */
body {
  margin: 0;
  font-family: 'Fredoka', sans-serif;
  background-color: #f0f0f0;
  color: #000;
  transition: background-color 0.3s ease, color 0.3s ease;
}

.mods-container {
  max-width: 1000px;
  margin: 40px auto;
  padding: 20px;
}

.mods-header {
  font-size: 28px;
  margin-bottom: 20px;
  color: #00a7a9;
  text-align: center;
}

/* üîç Search & Filter */
.search-bar,
#categoryFilter {
  display: block;
  margin: 0 auto 20px;
  padding: 10px 12px;
  font-size: 16px;
  width: 300px;
  border-radius: 6px;
  border: 1px solid #ccc;
  background-color: #fff;
  color: #333;
  transition: box-shadow 0.3s ease, border-color 0.3s ease;
  outline: none;
}

.search-bar:hover,
.search-bar:focus,
#categoryFilter:hover,
#categoryFilter:focus {
  border-color: #00ffff;
  box-shadow: 0 0 8px rgba(0, 255, 255, 0.6);
}

/* üßä Mod Card */
.mod-card {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  background: white;
  border-radius: 8px;
  padding: 20px;
  margin-bottom: 20px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
  gap: 20px;
  max-width: 100%;
  box-sizing: border-box;
  overflow-wrap: break-word;
  transition: box-shadow 0.3s ease, background-color 0.3s ease;
}

.mod-card:hover {
  box-shadow: 0 0 16px rgba(0, 255, 255, 0.4);
}

.mod-icon {
  width: 140px;
  height: 140px;
  object-fit: cover;
  border-radius: 10px;
  flex-shrink: 0;
}

.mod-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  gap: 10px;
}

.mod-card h3 {
  margin: 0;
  font-size: 1.4rem;
  color: #007c7e;
  text-align: left;
}

.mod-card p {
  margin: 0;
  color: #333;
  text-align: left;
}

/* üß† Mod Details */
.mod-details {
  display: none;
  margin-top: 10px;
  text-align: left;
}

.mod-details pre {
  font-family: 'Courier New', monospace;
  background-color: #f5f5f5;
  padding: 10px;
  border-radius: 6px;
  overflow-x: auto;
  margin-top: 10px;
  white-space: pre-wrap;
  max-width: 100%;
}

/* üó≥Ô∏è Voting */
.vote-btn,
.mod-card button {
  align-self: flex-start;
  margin-top: 10px;
  padding: 8px 14px;
  font-size: 14px;
  border: none;
  border-radius: 4px;
  background-color: #007c7e;
  color: white;
  cursor: pointer;
  transition: background-color 0.3s ease, box-shadow 0.2s ease;
}

.vote-btn:hover,
.mod-card button:hover {
  background-color: #009fa1;
  box-shadow: 0 0 10px rgba(0, 255, 255, 0.4);
}

.vote-icon {
  width: 28px;
  margin-right: 8px;
  pointer-events: auto;
  z-index: 10;
  position: relative;
}

.vote-icon:hover {
  transform: scale(1.1);
  transition: transform 0.2s ease;
}

/* ‚ö´ Dark Mode */
body.dark-mode {
  background-color: #111;
  color: #eee;
}

body.dark-mode .mod-card {
  background-color: #222;
}

body.dark-mode .mod-card p {
  color: #ccc;
}

body.dark-mode .mod-card h3 {
  color: #00e0e2;
}

body.dark-mode .mod-details pre {
  background-color: #333;
  color: #ddd;
}

body.dark-mode .search-bar,
body.dark-mode #categoryFilter {
  background-color: #222;
  color: #eee;
  border-color: #444;
}

body.dark-mode .search-bar:hover,
body.dark-mode .search-bar:focus,
body.dark-mode #categoryFilter:hover,
body.dark-mode #categoryFilter:focus {
  border-color: #00ffff;
  box-shadow: 0 0 8px rgba(0, 255, 255, 0.6);
}

body.dark-mode .vote-btn,
body.dark-mode .mod-card button {
  background-color: #009fa1;
}

/* üß† AI Summary */
.ai-summary {
  opacity: 0;
  display: none;
  font-style: italic;
  color: #00cccc;
  background: rgba(0, 255, 255, 0.05);
  border-left: 3px solid #00cccc;
  padding: 8px 12px;
  margin-top: 10px;
  border-radius: 4px;
  transition: opacity 0.3s ease;
  font-size: 0.95em;
  line-height: 1.4;
  max-width: 100%;
  word-wrap: break-word;
}

.ai-summary.show {
  display: block;
  opacity: 1;
}

/* üì± Responsive Layout */
@media (max-width: 600px) {
  .mods-container {
    padding: 10px;
  }

  .mod-card {
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 16px;
  }

  .mod-icon {
    width: 120px;
    height: 120px;
    margin-bottom: 14px;
  }

  .mod-content {
    align-items: center;
    text-align: center;
    gap: 10px;
  }

  .mod-card h3,
  .mod-card p {
    text-align: center;
  }

  .mod-card button {
    align-self: center;
  }

  .search-bar {
    width: 90%;
    font-size: 1rem;
  }
}

/* üîÉ Sort Button */
#sortVotes {
  display: block;
  margin: 10px auto 30px;
  padding: 10px 16px;
  font-size: 16px;
  border: none;
  border-radius: 6px;
  background-color: #007c7e;
  color: white;
  cursor: pointer;
  transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

#sortVotes:hover {
  background-color: #009fa1;
  box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

body.dark #sortVotes {
  background-color: #005f61;
  color: #eee;
}

body.dark #sortVotes:hover {
  background-color: #008b8d;
  box-shadow: 0 0 10px rgba(0, 255, 255, 0.6);
}
.mods-toolbar {
  max-width: 900px;
  margin: 40px auto 20px auto;
  padding: 20px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 0 24px rgba(0, 0, 0, 0.04);
}

body.dark-mode .mods-toolbar {
  background: #2a2a2a;
  box-shadow: 0 0 24px rgba(255, 255, 255, 0.05);
}

.mods-header {
  font-size: 1.8rem;
  font-weight: bold;
  margin-bottom: 20px;
  text-align: center;
  color: #222;
}

body.dark-mode .mods-header {
  color: #eee;
}

.mods-controls {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
}

.search-bar,
.filter-select,
.sort-button {
  font-size: 1rem;
  padding: 10px 15px;
  border-radius: 8px;
  border: 1px solid #ccc;
  transition: all 0.2s ease;
}

.search-bar {
  flex: 1;
  min-width: 160px;
}

.filter-select {
  background: #fff;
}

.sort-button {
  background: #00ffff;
  color: #000;
  font-weight: bold;
  border: none;
  cursor: pointer;
}

.sort-button:hover {
  background: #00e6e6;
}

body.dark-mode .search-bar,
body.dark-mode .filter-select {
  background: #3a3a3a;
  color: #eee;
  border: 1px solid #555;
}

body.dark-mode .sort-button {
  background: #00ffff;
  color: #000;
}

body.dark-mode .sort-button:hover {
  background: #00e6e6;
}
.mod-card {
  display: flex;
  flex-direction: row; /* image left, text right */
  background: white;
  border-radius: 8px;
  padding: 20px;
  margin-bottom: 20px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
  gap: 20px;
  max-width: 100%;
}

.mod-icon {
  width: 140px;
  height: 140px;
  object-fit: cover;
  border-radius: 10px;
  flex-shrink: 0;
}

.mod-content {
  display: flex;
  flex-direction: column; /* stack text vertically */
  justify-content: space-between; /* optional for spacing */
  flex: 1; /* take up remaining space */
  gap: 10px; /* spacing between items */
}

.mod-header {
  display: flex;
  flex-direction: column; /* title, author, category stacked */
  gap: 4px;
}
.mod-description {
  color:white;
  background-color:darkslategray;
}
.mod-description {
  font-size: 1em;
  color: #1a1a1a;
  padding: 10px 14px;
  border-radius: 6px;
  box-shadow: 0 2px 6px rgba(33, 150, 243, 0.08);

  /* üõë Prevent text overflow */
  max-width: 100%;
  word-wrap: break-word;      /* break long words if needed */
  overflow-wrap: anywhere;    /* modern support */
  white-space: pre-wrap;      /* keep line breaks, wrap text */
  box-sizing: border-box;     /* padding counts in width */
}


.mod-card {
  display: flex;
  flex-direction: row; /* image left, content right */
  background: white;
  border-radius: 8px;
  padding: 20px;
  margin-bottom: 20px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
  gap: 20px;
  max-width: 100%;
}

.mod-icon {
  width: 140px;
  height: 140px;
  object-fit: cover;
  border-radius: 10px;
  flex-shrink: 0;
}

.mod-content {
  display: flex;
  flex-direction: column; /* stack inside content */
  gap: 10px;
  flex: 1;
}

.mod-header {
  display: flex;
  flex-direction: column; /* title on top, meta below */
  gap: 6px;
}

.mod-meta {
  display: flex;
  flex-direction: column; /* author & category stacked vertically */
  gap: 4px;
}

.mod-description {
  font-size: 1em;
  color: #1a1a1a;
  background: #f5fafd;
  padding: 10px 14px;
  border-radius: 6px;
  box-shadow: 0 2px 6px rgba(33, 150, 243, 0.08);
}

  </style>
</head>
<body>
<div class="modrinth-navbar">
  <div class="header">
    <div class="header-left">
<div style="display: flex; align-items: center; height: 100%;">
        <div class="cube-container">
          <div class="cube">
            <div class="face front"></div>
            <div class="face back"></div>
            <div class="face right"></div>
            <div class="face left"></div>
            <div class="face top"></div>
            <div class="face bottom"></div>
          </div>
        </div>
      </div>
      <div class="logo-text"> Bloxd <br>World</div>
    </div>
   <div class="header-right">
  <ul class="navbar">
    <li class="nav-item">
      <a href="index.html">
        <i class="fas fa-home"></i>
        <span class="nav-label">Home</span>
      </a>
    </li>
    <li class="nav-item">
      <a href="mods.html">
        <i class="fas fa-cubes"></i>
        <span class="nav-label">Mods</span>
      </a>
    </li>
    <li class="nav-item">
      <a href="upload.html">
        <i class="fas fa-upload"></i>
        <span class="nav-label">Upload</span>
      </a>
    </li>
    <li class="nav-item">
      <a href="about.html">
        <i class="fas fa-info-circle"></i>
        <span class="nav-label">About</span>
      </a>
    </li>
    <li class="nav-item">
      <a href="leaderboard.html">
        <i class="fas fa-trophy"></i>
        <span class="nav-label">Leaderboard</span>
      </a>
    </li>
    <li class="nav-item">
      <a href="#" id="themeToggle">
        <i class="fas fa-moon"></i>
        <span class="nav-label">Theme</span>
      </a>
    </li>
    <li class="nav-item" id="authArea"></li>
  </ul>
    </div>
  </div>
</div>

  <div class="mods-container">
    <div class="mods-toolbar">
  <div class="mods-header">Community Mods</div>

  <div class="mods-controls">
    <input type="text" id="search" class="search-bar" placeholder="Search mods...">

    <select id="categoryFilter" class="filter-select">
      <option selected value="">Other</option>
      <option value="Gameplay">Gameplay</option>
      <option value="Visual">Visual</option>
      <option value="NPC/AI">NPC/AI</option>
      <option value="Utilities">Tools/Utilities</option>
      <option value="Experimental">Experimental</option>
    </select>

    <button id="sortVotes" class="sort-button">Sort by Votes</button>
  </div>
</div>
    <div id="mod-list">Loading. Please Wait</div>
  </div>
  <div id="pagination" style="text-align: center; margin-top: 20px;"></div>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script type="module" src="js/googlelogin.js"></script>
<script type="module">
  import { createClient } from "https://esm.sh/@supabase/supabase-js";

  // ‚úÖ Supabase init (only anon key, not service key!)
  const supabaseUrl = "https://pxmsgzfufvwxpnyeobwk.supabase.co";
  const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB4bXNnemZ1ZnZ3eHBueWVvYndrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE3NjU1OTksImV4cCI6MjA2NzM0MTU5OX0.-fRzI_259AIkq60Ck7PcgpX2SThnp8rBwVGglKxgY2U"; // not service!
  const client = createClient(supabaseUrl, supabaseKey);

 async function fetchMods() {
  console.log("üîÑ Fetching mods from Supabase...");
  const { data: mods, error } = await client
    .from("mod")
    .select("*")
    .eq("approval", true)        // ‚úÖ Only approved mods
    .order("created_at", { ascending: false });

  if (error) {
    Toastify({
  text: "‚ùå Error fetching mods:"+ error.message,
  duration: 3000,
  gravity: "bottom", // bottom or top
  position: "right", // left, center, right
  backgroundColor: "linear-gradient(to right, #FF0000, #D3D3D3)",
  close: true,
}).showToast();
    console.error("‚ùå Error fetching mods:", error.message);
    return [];
  }
  console.log("‚úÖ Got mods:", mods);
  return mods;
}


  function renderMods(mods) {
    const container = document.getElementById("mod-list");
    container.innerHTML = "";

    mods.forEach(mod => {
      const card = document.createElement("div");
      card.className = "mod-card";
      card.addEventListener("click", () => {
  // Redirect user
  window.location.href = "https://bloxdworld.pages.dev/newfullview?addonid="+mod.id;
});
card.innerHTML = `
  <img src="${mod.icon || mod.image || "https://bloxdworld.pages.dev/assets/pixil-frame-0%20(14).png"}" alt="icon" class="mod-icon">
  <div class="mod-content">
    <div class="mod-header">
      <h3>${mod.title}</h3>
      <div class="mod-meta">
        <p><b>Author:</b> ${mod.author || "Unknown"}</p>
      </div>
    </div>
    <p class="mod-description">${(mod.description || "No description yet.").slice(0, 150)}${mod.description && mod.description.length > 50 ? "‚Ä¶" : ""}</p>
    <div class="mod-meta">
      <p><b>Category:</b> ${mod.category || "Not specified"}</p>
    </div>
    <button onclick="copyLink('${mod.file_path}')">üìé Copy Link</button>
  </div>
`;



      container.appendChild(card);
    });
  }

  // Copy link helper
  window.copyLink = async (filePath) => {
    const { data } = client.storage.from("mod").getPublicUrl(filePath);
    if (data?.publicUrl) {
      await navigator.clipboard.writeText(data.publicUrl);
      Toastify({
  text: "Link copied!",
  duration: 3000,
  gravity: "bottom", // bottom or top
  position: "right", // left, center, right
  backgroundColor: "linear-gradient(to right, #00b09b, #96c93d)",
  close: true,
}).showToast();
    }
  };

  // Run on page load
  document.addEventListener("DOMContentLoaded", async () => {
    const mods = await fetchMods();
    renderMods(mods);
  });
  const themeToggle = document.getElementById("themeToggle");

// Apply saved theme on load
if (localStorage.getItem("theme") === "dark") {
  document.body.classList.add("dark-mode");
}

// Toggle and save preference
themeToggle.addEventListener("click", (e) => {
  e.preventDefault();
  document.body.classList.toggle("dark-mode");

  // Save preference
  if (document.body.classList.contains("dark-mode")) {
    localStorage.setItem("theme", "dark");
  } else {
    localStorage.setItem("theme", "light");
  }
});
</script>

<footer class="site-footer">
  <p>¬© NeonJet Studios. <strong>Bloxd World</strong> is made by NeonJet Studios and is not affiliated with Bloxd.io.</p>
  <nav class="footer-links">
    <a href="/about">About</a>
    <a href="/leaderboard">Leaderboard</a>
    <a href="/about">About</a>
    <a href="/upload">Submit a Mod</a>
    <a href="https://discord.gg/yourserver" target="_blank">Join Discord (SOON)</a>
  </nav>
</footer>
</body>
</html>

