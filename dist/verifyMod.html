<!DOCTYPE html><html lang="en"><head><link rel="icon" type="image/png" href="https://bloxdworld.pages.dev/assets/pixil-frame-0%20%2814%29.png"><meta charset="UTF-8"><title>Verify Mods | Bloxd World</title><link href="https://fonts.googleapis.com/css2?family=Fredoka&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"><style>body{font-family:Fredoka,sans-serif;background:#f0f0f0;margin:0;padding:20px}h1{text-align:center;color:#007c7e}.mod-card{display:flex;flex-direction:row;background:#fff;border-radius:8px;padding:20px;margin:20px auto;box-shadow:0 0 10px rgba(0,0,0,.1);gap:20px;max-width:900px}.mod-icon{width:140px;height:140px;object-fit:cover;border-radius:10px}.mod-content{display:flex;flex-direction:column;gap:10px;flex:1}.mod-meta p{margin:0}button{padding:8px 12px;font-size:14px;border:none;border-radius:6px;cursor:pointer;transition:background .2s}.approve-btn{background:#00c200;color:#fff}.reject-btn{background:#f44;color:#fff}.approve-btn:hover{background:#00e600}.reject-btn:hover{background:#f66}</style></head><body><h1>Mod Verification Dashboard</h1><div id="mods-list">Checking access...</div><script type="module">import{createClient}from"https://esm.sh/@supabase/supabase-js";const supabaseUrl="https://pxmsgzfufvwxpnyeobwk.supabase.co",supabaseKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB4bXNnemZ1ZnZ3eHBueWVvYndrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE3NjU1OTksImV4cCI6MjA2NzM0MTU5OX0.-fRzI_259AIkq60Ck7PcgpX2SThnp8rBwVGglKxgY2U",client=createClient(supabaseUrl,supabaseKey),ADMIN_EMAIL="ekaanshagarwal19564@gmail.com";async function fetchMods(){const{data:e,error:n}=await client.from("mod").select("*").eq("approval",!1).order("created_at",{ascending:!1});return n?(console.error("❌ Error fetching mods:",n.message),[]):e}function renderMods(e){const n=document.getElementById("mods-list");n.innerHTML="",e&&0!==e.length?e.forEach(e=>{const t=document.createElement("div");t.className="mod-card",t.innerHTML=`\n      <img src="${e.icon||e.image||"https://bloxdworld.pages.dev/assets/pixil-frame-0%20(14).png"}" class="mod-icon">\n      <div class="mod-content">\n        <h3>${e.title}</h3>\n        <div class="mod-meta">\n          <p><b>Author:</b> ${e.author||"Unknown"}</p>\n          <p><b>Category:</b> ${e.category||"Misc"}</p>\n          <p><b>Description:</b> ${(e.description||"No description").slice(0,100)}${e.description&&e.description.length>100?"…":""}</p>\n        </div>\n        <div>\n          <button class="approve-btn" onclick="verifyMod('${e.id}', true)">✅ Approve</button>\n          <button class="reject-btn" onclick="verifyMod('${e.id}', false)">❌ Reject</button>\n        </div>\n      </div>\n    `,n.appendChild(t)}):n.innerHTML="<p>No mods waiting for verification!</p>"}window.verifyMod=async(e,n)=>{const t={approval:n},{error:s}=await client.from("mod").update(t).eq("id",e);if(s)return alert("Error updating mod: "+s.message);alert(n?"✅ Mod approved!":"❌ Mod rejected!");renderMods(await fetchMods())},document.addEventListener("DOMContentLoaded",async()=>{const{data:{session:e}}=await client.auth.getSession(),n=e?.user;if(!n||"ekaanshagarwal19564@gmail.com"!==n.email)return void(document.getElementById("mods-list").innerHTML="<p>❌ Access Denied. Only admin can view this page.</p>");renderMods(await fetchMods())})</script></body></html>