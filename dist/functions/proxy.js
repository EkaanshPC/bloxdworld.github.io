var c=Object.defineProperty;var o=(t,e)=>c(t,"name",{value:e,configurable:!0});async function u(t){let{request:e}=t,n=new URL(e.url).searchParams.get("url");if(!n)return new Response("Missing ?url= parameter",{status:400});let a={method:e.method,headers:e.headers,body:e.method!=="GET"&&e.method!=="HEAD"?await e.text():void 0},r=await fetch(n,a),s=new Headers(r.headers);return s.set("Access-Control-Allow-Origin","*"),s.set("Access-Control-Allow-Methods","GET, POST, OPTIONS"),s.set("Access-Control-Allow-Headers","*"),new Response(await r.text(),{status:r.status,headers:s})}o(u,"onRequest");export{u as onRequest};
