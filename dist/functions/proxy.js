async function c(n){let{request:e}=n,r=new URL(e.url).searchParams.get("url");if(!r)return new Response("Missing ?url= parameter",{status:400});let o={method:e.method,headers:e.headers,body:e.method!=="GET"&&e.method!=="HEAD"?await e.text():void 0},t=await fetch(r,o),s=new Headers(t.headers);return s.set("Access-Control-Allow-Origin","*"),s.set("Access-Control-Allow-Methods","GET, POST, OPTIONS"),s.set("Access-Control-Allow-Headers","*"),new Response(await t.text(),{status:t.status,headers:s})}export{c as onRequest};
